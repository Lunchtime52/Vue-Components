{"version":3,"file":"useShowHide-BgqT9gR2.js","sources":["../src/composables/useShowHide.ts"],"sourcesContent":["import {\n  computed,\n  type EmitFn,\n  inject,\n  nextTick,\n  onBeforeUnmount,\n  onMounted,\n  readonly,\n  ref,\n  type Ref,\n  watch,\n} from 'vue'\nimport {globalShowHideStorageInjectionKey} from '../utils/keys'\nimport {BvTriggerableEvent} from '../utils'\nimport {useEventListener, useThrottleFn} from '@vueuse/core'\n\nexport const fadeBaseTransitionProps = {\n  name: 'fade',\n  enterActiveClass: '',\n  enterFromClass: 'showing',\n  enterToClass: '',\n  leaveActiveClass: '',\n  leaveFromClass: '',\n  leaveToClass: 'showing',\n  css: true,\n}\n\nexport interface showHideEmits {\n  'hide': [value: BvTriggerableEvent]\n  'hide-prevented': [value: BvTriggerableEvent]\n  'hidden': [value: BvTriggerableEvent]\n  'show': [value: BvTriggerableEvent]\n  'show-prevented': [value: BvTriggerableEvent]\n  'shown': [value: BvTriggerableEvent]\n  'toggle': [value: BvTriggerableEvent]\n  'toggle-prevented': [value: BvTriggerableEvent]\n}\n\ninterface TransitionProps {\n  onBeforeEnter?: (el: Element) => void\n  onEnter?: (el: Element) => void\n  onAfterEnter?: (el: Element) => void\n  onBeforeLeave?: (el: Element) => void\n  onLeave?: (el: Element) => void\n  onAfterLeave?: (el: Element) => void\n  enterToClass?: string\n  leaveToClass?: string\n  enterFromClass?: string\n  leaveFromClass?: string\n  enterActiveClass?: string\n  leaveActiveClass?: string\n}\n\nexport const useShowHide = (\n  modelValue: Ref<boolean | number>,\n  props: {\n    visible?: boolean\n    show?: boolean\n    noAnimation?: boolean\n    noFade?: boolean\n    noCloseOnBackdrop?: boolean\n    noCloseOnEsc?: boolean\n    transitionProps?: TransitionProps\n    lazy?: boolean\n    initialAnimation?: boolean\n    delay?:\n      | number\n      | {\n          show: number\n          hide: number\n        }\n  } & Record<string, unknown>,\n  emit: EmitFn,\n  element: Ref<HTMLElement | null>,\n  computedId: Ref<string>,\n  options: {\n    transitionProps?: TransitionProps\n    showFn?: () => void\n    hideFn?: () => void\n  } = {\n    transitionProps: {},\n    showFn: () => {},\n    hideFn: () => {},\n  }\n) => {\n  let noAction = false\n  const initialShow = (!!modelValue.value && !props.initialAnimation) || props.visible || false\n  const showRef = ref<boolean>(initialShow)\n  const renderRef = ref<boolean>(initialShow)\n  const renderBackdropRef = ref<boolean>(initialShow)\n\n  let isCountdown = typeof modelValue.value !== 'boolean'\n\n  watch(modelValue, () => {\n    isCountdown = typeof modelValue.value !== 'boolean'\n    if (noAction) {\n      noAction = false\n      return\n    }\n    if (modelValue.value) {\n      show()\n    } else {\n      hide()\n    }\n  })\n\n  const localNoAnimation = ref(initialShow)\n  const localTemporaryHide = ref(false)\n  const computedNoAnimation = computed(\n    () => props.noAnimation || props.noFade || localNoAnimation.value || false\n  )\n  onMounted(() => {\n    if (!props.show && initialShow) {\n      // show without delay or animation\n      const event = buildTriggerableEvent('show', {cancelable: true})\n      emit('show', event)\n\n      if (event.defaultPrevented) {\n        emit('show-prevented', buildTriggerableEvent('show-prevented'))\n        return\n      }\n      localNoAnimation.value = true\n      if (!modelValue.value) {\n        noAction = true\n        modelValue.value = true\n      }\n      renderRef.value = true\n      renderBackdropRef.value = true\n      isVisible.value = true\n      backdropVisible.value = true\n      backdropReady.value = true\n      showRef.value = true\n      options.showFn?.()\n    } else if (props.show || (!!modelValue.value && props.initialAnimation)) {\n      show()\n    }\n  })\n\n  watch(\n    () => props.visible,\n    (newval) => {\n      localNoAnimation.value = true\n\n      nextTick(() => {\n        if (newval) isVisible.value = true\n        if (newval) {\n          show()\n        } else {\n          hide()\n        }\n      })\n    }\n  )\n  watch(\n    () => props.show,\n    (newval) => {\n      if (newval) {\n        show()\n      } else {\n        hide()\n      }\n    }\n  )\n  // todo: remove\n  useEventListener(element, 'bv-toggle', () => {\n    modelValue.value = !modelValue.value\n  })\n\n  const buildTriggerableEvent = (\n    type: string,\n    opts: Readonly<Partial<BvTriggerableEvent>> = {}\n  ): BvTriggerableEvent =>\n    new BvTriggerableEvent(type, {\n      cancelable: false,\n      target: element?.value || null,\n      relatedTarget: null,\n      trigger: null,\n      ...opts,\n      componentId: computedId?.value,\n    })\n\n  let showTimeout: ReturnType<typeof setTimeout> | undefined\n  let hideTimeout: ReturnType<typeof setTimeout> | undefined\n\n  const show = () => {\n    if (showRef.value && !hideTimeout) return\n\n    const event = buildTriggerableEvent('show', {cancelable: true})\n    emit('show', event)\n\n    if (event.defaultPrevented) {\n      emit('show-prevented', buildTriggerableEvent('show-prevented'))\n      if (isVisible.value) {\n        isVisible.value = false\n      }\n      if (modelValue.value && !isCountdown) {\n        noAction = true\n        nextTick(() => {\n          modelValue.value = false\n        })\n      }\n      return\n    }\n    if (hideTimeout) {\n      clearTimeout(hideTimeout)\n      hideTimeout = undefined\n    }\n    renderRef.value = true\n    renderBackdropRef.value = true\n    requestAnimationFrame(() => {\n      showTimeout = setTimeout(\n        () => {\n          showTimeout = undefined\n          showRef.value = true\n          options.showFn?.()\n          if (!modelValue.value) {\n            noAction = true\n            nextTick(() => {\n              modelValue.value = true\n            })\n          }\n        },\n        localNoAnimation.value\n          ? 0\n          : typeof props.delay === 'number'\n            ? props.delay\n            : props.delay?.show || 0\n      )\n    })\n  }\n\n  const hide = (trigger?: string) => {\n    if (!showRef.value && !showTimeout) return\n    const event = buildTriggerableEvent('hide', {cancelable: true, trigger})\n    const event2 = buildTriggerableEvent(trigger || 'ignore', {cancelable: true, trigger})\n    if (\n      (trigger === 'backdrop' && props.noCloseOnBackdrop) ||\n      (trigger === 'esc' && props.noCloseOnEsc)\n    ) {\n      emit('hide-prevented', buildTriggerableEvent('hide-prevented'))\n      return\n    }\n    if (trigger) {\n      emit(trigger, event2)\n    }\n    emit('hide', event)\n\n    if (event.defaultPrevented || event2.defaultPrevented) {\n      emit('hide-prevented', buildTriggerableEvent('hide-prevented'))\n      if (!modelValue.value) {\n        nextTick(() => {\n          noAction = true\n          modelValue.value = true\n        })\n      }\n      return\n    }\n    if (showTimeout) {\n      clearTimeout(showTimeout)\n      showTimeout = undefined\n      if (!localTemporaryHide.value) renderRef.value = false\n      renderBackdropRef.value = false\n    }\n    hideTimeout = setTimeout(\n      () => {\n        hideTimeout = undefined\n        isLeaving.value = true\n        showRef.value = false\n        options.hideFn?.()\n        if (modelValue.value) {\n          noAction = true\n          modelValue.value = isCountdown ? 0 : false\n        }\n      },\n      localNoAnimation.value\n        ? 0\n        : typeof props.delay === 'number'\n          ? props.delay\n          : props.delay?.hide || 0\n    )\n  }\n  const throttleHide = useThrottleFn((a) => hide(a), 500)\n  const throttleShow = useThrottleFn(() => show(), 500)\n\n  const toggle = () => {\n    const e = buildTriggerableEvent('toggle', {cancelable: true})\n    emit('toggle', e)\n    if (e.defaultPrevented) {\n      emit('toggle-prevented', buildTriggerableEvent('toggle-prevented'))\n      return\n    }\n    if (showRef.value) {\n      hide()\n    } else {\n      show()\n    }\n  }\n\n  const appRegistry = inject(\n    globalShowHideStorageInjectionKey,\n    undefined\n  )?.({\n    id: computedId.value,\n    toggle,\n    show,\n    hide,\n    value: readonly(showRef),\n  })\n\n  onBeforeUnmount(() => {\n    appRegistry?.unregister()\n  })\n\n  const lazyLoadCompleted = ref(false)\n  const markLazyLoadCompleted = () => {\n    if (props.lazy === true) lazyLoadCompleted.value = true\n  }\n\n  const isLeaving = ref(false)\n  const isActive = ref(initialShow)\n  const isVisible = ref(initialShow)\n\n  const onBeforeEnter = (el: Element) => {\n    options.transitionProps?.onBeforeEnter?.(el)\n    props.transitionProps?.onBeforeEnter?.(el)\n    isActive.value = true\n  }\n  const onEnter = (el: Element) => {\n    requestAnimationFrame(() => {\n      requestAnimationFrame(() => {\n        // sometimes one just isn't enough (offcanvas on the first load after refresh)\n        isVisible.value = true\n      })\n    })\n    options.transitionProps?.onEnter?.(el)\n    props.transitionProps?.onEnter?.(el)\n  }\n  const onAfterEnter = (el: Element) => {\n    emit('shown', buildTriggerableEvent('shown'))\n    markLazyLoadCompleted()\n    options.transitionProps?.onAfterEnter?.(el)\n    props.transitionProps?.onAfterEnter?.(el)\n    if (localNoAnimation.value) {\n      requestAnimationFrame(() => {\n        localNoAnimation.value = false\n      })\n    }\n    if (localTemporaryHide.value) {\n      localTemporaryHide.value = false\n    }\n  }\n  const onBeforeLeave = (el: Element) => {\n    if (!isLeaving.value) isLeaving.value = true\n    options.transitionProps?.onBeforeLeave?.(el)\n    props.transitionProps?.onBeforeLeave?.(el)\n  }\n  const onLeave = (el: Element) => {\n    isVisible.value = false\n    options.transitionProps?.onLeave?.(el)\n    props.transitionProps?.onLeave?.(el)\n  }\n  const onAfterLeave = (el: Element) => {\n    emit('hidden', buildTriggerableEvent('hidden'))\n    options.transitionProps?.onAfterLeave?.(el)\n    props.transitionProps?.onAfterLeave?.(el)\n    isLeaving.value = false\n    isActive.value = false\n    if (localNoAnimation.value) {\n      requestAnimationFrame(() => {\n        localNoAnimation.value = false\n      })\n    }\n    requestAnimationFrame(() => {\n      if (!localTemporaryHide.value) renderRef.value = false\n    })\n  }\n\n  const contentShowing = computed(\n    () =>\n      localTemporaryHide.value === true ||\n      isActive.value === true ||\n      props.lazy === false ||\n      (props.lazy === true && lazyLoadCompleted.value === true && props.unmountLazy === false)\n  )\n  const trapActive = ref(false)\n  watch(isVisible, (val) => {\n    // This is a hack to ensure that the trapActive is set after the isVisible\n    requestAnimationFrame(() => {\n      requestAnimationFrame(() => {\n        requestAnimationFrame(() => {\n          requestAnimationFrame(() => {\n            // timeout to make the test pass... what a hack!\n            setTimeout(() => {\n              trapActive.value = val\n            }, 32)\n          })\n        })\n      })\n    })\n  })\n  const backdropVisible = ref(false)\n  const backdropReady = ref(false)\n\n  const transitionFunctions = {\n    ...options.transitionProps,\n    onBeforeEnter,\n    onEnter,\n    onAfterEnter,\n    onBeforeLeave,\n    onLeave,\n    onAfterLeave,\n  }\n  return {\n    showRef,\n    renderRef,\n    renderBackdropRef,\n    isVisible,\n    isActive,\n    trapActive,\n    show,\n    hide,\n    toggle,\n    throttleHide,\n    throttleShow,\n    buildTriggerableEvent,\n    computedNoAnimation,\n    localNoAnimation,\n    localTemporaryHide,\n    isLeaving,\n    transitionProps: {\n      ...fadeBaseTransitionProps,\n      ...props.transitionProps,\n      ...transitionFunctions,\n    },\n\n    lazyLoadCompleted,\n    markLazyLoadCompleted,\n    contentShowing,\n    backdropReady,\n    backdropVisible,\n    backdropTransitionProps: {\n      ...fadeBaseTransitionProps,\n      onBeforeEnter: () => {\n        requestAnimationFrame(() => {\n          requestAnimationFrame(() => {\n            backdropVisible.value = true\n          })\n        })\n        backdropReady.value = false\n      },\n      onAfterEnter: () => {\n        backdropReady.value = true\n      },\n      onBeforeLeave: () => {\n        backdropVisible.value = false\n      },\n      onAfterLeave: () => {\n        backdropReady.value = false\n        requestAnimationFrame(() => {\n          renderBackdropRef.value = false\n        })\n      },\n    },\n  }\n}\n"],"names":["fadeBaseTransitionProps","name","enterActiveClass","enterFromClass","enterToClass","leaveActiveClass","leaveFromClass","leaveToClass","css","modelValue","props","emit","element","computedId","options","transitionProps","showFn","hideFn","noAction","initialShow","value","initialAnimation","visible","showRef","ref","renderRef","renderBackdropRef","isCountdown","vue","watch","show","hide","localNoAnimation","localTemporaryHide","computedNoAnimation","computed","noAnimation","noFade","onMounted","event","buildTriggerableEvent","cancelable","defaultPrevented","isVisible","backdropVisible","backdropReady","_a","call","newval","nextTick","type","opts","BvTriggerableEvent","target","relatedTarget","trigger","componentId","showTimeout","hideTimeout","clearTimeout","requestAnimationFrame","setTimeout","delay","event2","noCloseOnBackdrop","noCloseOnEsc","isLeaving","throttleHide","useThrottleFn","a","throttleShow","toggle","e","appRegistry","inject","globalShowHideStorageInjectionKey","id","readonly","onBeforeUnmount","unregister","lazyLoadCompleted","markLazyLoadCompleted","lazy","isActive","contentShowing","unmountLazy","trapActive","val","transitionFunctions","onBeforeEnter","el","_b","_d","_c","onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave","backdropTransitionProps"],"mappings":"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"}